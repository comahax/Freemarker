define(["zepto"],function(require){!function(jQuery,a){function b(a,b,c,d){var e={data:d||0===d||d===!1?d:b?b.data:{},_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:j,nest:k,wrap:l,html:m,update:n};return a&&jQuery.extend(e,a,{nodes:[],parent:b}),c&&(e.tmpl=c,e._ctnt=e._ctnt||e.tmpl(jQuery,e),e.key=++v,(x.length?t:s)[v]=e),e}function c(a,b,e){var f,g=e?jQuery.map(e,function(b){return"string"==typeof b?a.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+q+'="'+a.key+'" $2'):b:c(b,a,b._ctnt)}):a;return b?g:(g=g.join(""),g.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(a,b,c,e){f=jQuery(c).get(),i(f),b&&(f=d(b).concat(f)),e&&(f=f.concat(d(e)))}),f?f:d(g))}function d(a){var b=document.createElement("div");return b.innerHTML=a,jQuery.makeArray(b.childNodes)}function e(a){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+jQuery.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(a,b,c,d,e,f,h){var i,j,k,l=jQuery.tmpl.tag[c];if(!l)throw"Unknown template tag: "+c;return i=l._default||[],f&&!/\w$/.test(e)&&(e+=f,f=""),e?(e=g(e),h=h?","+g(h)+")":f?")":"",j=f?e.indexOf(".")>-1?e+g(f):"("+e+").call($item"+h:e,k=f?j:"(typeof("+e+")==='function'?("+e+").call($item):("+e+"))"):k=j=i.$1||"null",d=g(d),"');"+l[b?"close":"open"].split("$notnull_1").join(e?"typeof("+e+")!=='undefined' && ("+e+")!=null":"true").split("$1a").join(k).split("$1").join(j).split("$2").join(d||i.$2||"")+"__.push('"})+"');}return __;")}function f(a,b){a._wrap=c(a,!0,jQuery.isArray(b)?b:[r.test(b)?b:jQuery(b).html()]).join("")}function g(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function h(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}function i(a){function c(a){function c(a){a+=i,f=j[a]=j[a]||b(f,s[f.parent.key+i]||f.parent)}var d,e,f,g,h=a;if(g=a.getAttribute(q)){for(;h.parentNode&&1===(h=h.parentNode).nodeType&&!(d=h.getAttribute(q)););d!==g&&(h=h.parentNode?11===h.nodeType?0:h.getAttribute(q)||0:0,(f=s[g])||(f=t[g],f=b(f,s[h]||t[h]),f.key=++v,s[v]=f),w&&c(g)),a.removeAttribute(q)}else w&&(f=jQuery.data(a,"tmplItem"))&&(c(f.key),s[f.key]=f,h=jQuery.data(a.parentNode,"tmplItem"),h=h?h.key:0);if(f){for(e=f;e&&e.key!=h;)e.nodes.push(a),e=e.parent;delete f._ctnt,delete f._wrap,jQuery.data(a,"tmplItem",f)}}var d,e,f,g,h,i="_"+w,j={};for(f=0,g=a.length;g>f;f++)if(1===(d=a[f]).nodeType){for(e=d.getElementsByTagName("*"),h=e.length-1;h>=0;h--)c(e[h]);c(d)}}function j(a,b,c,d){return a?void x.push({_:a,tmpl:b,item:this,data:c,options:d}):x.pop()}function k(a,b,c){return jQuery.tmpl(jQuery.template(a),b,c,this)}function l(a,b){var c=a.options||{};return c.wrapped=b,jQuery.tmpl(jQuery.template(a.tmpl),a.data,c,a.item)}function m(a,b){var c=this._wrap;return jQuery.map(jQuery(jQuery.isArray(c)?c.join(""):c).filter(a||"*"),function(a){return b?a.innerText||a.textContent:a.outerHTML||h(a)})}function n(){var a=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(a[0]),jQuery(a).remove()}var o,p=jQuery.fn.domManip,q="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,s={},t={},u={key:0,data:{}},v=0,w=0,x=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(c){var d,e,f,g,h=[],i=jQuery(c),j=1===this.length&&this[0].parentNode;if(o=s||{},j&&11===j.nodeType&&1===j.childNodes.length&&1===i.length)i[b](this[0]),h=this;else{for(e=0,f=i.length;f>e;e++)w=e,d=(e>0?this.clone(!0):this).get(),jQuery(i[e])[b](d),h=h.concat(d);w=0,h=this.pushStack(h,a,i.selector)}return g=o,o=null,jQuery.tmpl.complete(g),h}}),jQuery.fn.extend({tmpl:function(a,b,c){return jQuery.tmpl(this[0],a,b,c)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(a){return jQuery.template(a,this[0])},domManip:function(a,b,c,d){if(a[0]&&jQuery.isArray(a[0])){for(var e,f=jQuery.makeArray(arguments),g=a[0],h=g.length,i=0;h>i&&!(e=jQuery.data(g[i++],"tmplItem")););e&&w&&(f[2]=function(a){jQuery.tmpl.afterManip(this,a,c)}),p.apply(this,f)}else p.apply(this,arguments);return w=0,o||jQuery.tmpl.complete(s),this}}),jQuery.extend({tmpl:function(a,d,e,g){var h,i=!g;if(i)g=u,a=jQuery.template[a]||jQuery.template(null,a),t={};else if(!a)return a=g.tmpl,s[g.key]=g,g.nodes=[],g.wrapped&&f(g,g.wrapped),jQuery(c(g,null,g.tmpl(jQuery,g)));return a?("function"==typeof d&&(d=d.call(g||{})),e&&e.wrapped&&f(e,e.wrapped),h=jQuery.isArray(d)?jQuery.map(d,function(c){return c?b(e,g,a,c):null}):[b(e,g,a,d)],i?jQuery(c(g,null,h)):h):[]},tmplItem:function(a){var b;for(a instanceof jQuery&&(a=a[0]);a&&1===a.nodeType&&!(b=jQuery.data(a,"tmplItem"))&&(a=a.parentNode););return b||u},template:function(a,b){return b?("string"==typeof b?b=e(b):b instanceof jQuery&&(b=b[0]||{}),b.nodeType&&(b=jQuery.data(b,"tmpl")||jQuery.data(b,"tmpl",e(b.innerHTML))),"string"==typeof a?jQuery.template[a]=b:b):a?"string"!=typeof a?jQuery.template(null,a):jQuery.template[a]||jQuery.template(null,r.test(a)?a:jQuery(a)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(a){s={}},afterManip:function(a,b,c){var d=11===b.nodeType?jQuery.makeArray(b.childNodes):1===b.nodeType?[b]:[];c.call(a,b),i(d),w++}})}(jQuery)});