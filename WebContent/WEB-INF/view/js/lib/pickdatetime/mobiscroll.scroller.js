!function($,a,b,c){var d,e=$.mobiscroll,f=e.classes,g=e.instances,h=e.util,i=h.jsPrefix,j=h.has3d,k=h.hasFlex,l=h.getCoord,m=h.constrain,n=h.testTouch;f.Scroller=function(a,e,o){function p(a){!n(a,this)||d||R||M||y(this)||(a.preventDefault(),a.stopPropagation(),d=!0,N="clickpick"!=P.mode,Z=$(".dw-ul",this),A(Z),S=ea[_]!==c,W=S?C(Z):fa[_],T=l(a,"Y"),U=new Date,V=T,E(Z,_,W,.001),N&&Z.closest(".dwwl").addClass("dwa"),"mousedown"===a.type&&$(b).on("mousemove",q).on("mouseup",r))}function q(a){d&&N&&(a.preventDefault(),a.stopPropagation(),V=l(a,"Y"),(Math.abs(V-T)>3||S)&&(E(Z,_,m(W+(T-V)/O,X-1,Y+1)),S=!0))}function r(a){if(d){var c,e,f,g=new Date-U,h=m(W+(T-V)/O,X-1,Y+1),i=Z.offset().top;if(a.stopPropagation(),j&&300>g?(c=(V-T)/g,e=c*c/P.speedUnit,0>V-T&&(e=-e)):e=V-T,f=Math.round(W-e/O),!S){var k=Math.floor((V-i)/O),l=$($(".dw-li",Z)[k]),n=l.hasClass("dw-v"),o=N;Q("onValueTap",[l])!==!1&&n?f=k:o=!0,o&&n&&(l.addClass("dw-hl"),setTimeout(function(){l.removeClass("dw-hl")},100))}N&&H(Z,f,0,!0,Math.round(h)),"mouseup"===a.type&&$(b).off("mousemove",q).off("mouseup",r),d=!1}}function s(a){M=$(this),n(a,this)&&x(a,M.closest(".dwwl"),M.hasClass("dwwbp")?I:J),"mousedown"===a.type&&$(b).on("mouseup",t)}function t(a){M=null,R&&(clearInterval(ba),R=!1),"mouseup"===a.type&&$(b).off("mouseup",t)}function u(a){38==a.keyCode?x(a,$(this),J):40==a.keyCode&&x(a,$(this),I)}function v(){R&&(clearInterval(ba),R=!1)}function w(a){if(!y(this)){a.preventDefault(),a=a.originalEvent||a;var b=a.wheelDelta?a.wheelDelta/120:a.detail?-a.detail/3:0,c=$(".dw-ul",this);A(c),H(c,Math.round(fa[_]-b),0>b?1:2)}}function x(a,b,c){if(a.stopPropagation(),a.preventDefault(),!R&&!y(b)&&!b.hasClass("dwa")){R=!0;var d=b.find(".dw-ul");A(d),clearInterval(ba),ba=setInterval(function(){c(d)},P.delay),c(d)}}function y(a){if($.isArray(P.readonly)){var b=$(".dwwl",L).index(a);return P.readonly[b]}return P.readonly}function z(a){var b='<div class="dw-bf">',c=ha[a],d=1,e=c.labels||[],f=c.values,g=c.keys||f;return $.each(f,function(a,c){d%20===0&&(b+='</div><div class="dw-bf">'),b+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+g[a]+'"'+(e[a]?' aria-label="'+e[a]+'"':"")+' style="height:'+O+"px;line-height:"+O+'px;"><div class="dw-i"'+(aa>1?' style="line-height:'+Math.round(O/aa)+"px;font-size:"+Math.round(O/aa*.8)+'px;"':"")+">"+c+"</div></div>",d++}),b+="</div>"}function A(a){var b=a.closest(".dwwl").hasClass("dwwms");X=$(".dw-li",a).index($(b?".dw-li":".dw-v",a).eq(0)),Y=Math.max(X,$(".dw-li",a).index($(b?".dw-li":".dw-v",a).eq(-1))-(b?P.rows-1:0)),_=$(".dw-ul",L).index(a)}function B(b){var c=P.headerText;return c?"function"==typeof c?c.call(a,b):c.replace(/\{value\}/i,b):""}function C(a){return Math.round(-h.getPosition(a,!0)/O)}function D(a,b){clearTimeout(ea[b]),delete ea[b],a.closest(".dwwl").removeClass("dwa")}function E(a,b,c,d,e){var f=-c*O,g=a[0].style;f==ga[b]&&ea[b]||(ga[b]=f,j?(g[i+"Transition"]=h.prefix+"transform "+(d?d.toFixed(3):0)+"s ease-out",g[i+"Transform"]="translate3d(0,"+f+"px,0)"):g.top=f+"px",ea[b]&&D(a,b),d&&e&&(a.closest(".dwwl").addClass("dwa"),ea[b]=setTimeout(function(){D(a,b)},1e3*d)),fa[b]=c)}function F(a,b,c,d){var e=$('.dw-li[data-val="'+a+'"]',b),f=$(".dw-li",b),g=f.index(e),h=f.length;if(d)A(b);else if(!e.hasClass("dw-v")){for(var i=e,j=e,k=0,l=0;g-k>=0&&!i.hasClass("dw-v");)k++,i=f.eq(g-k);for(;h>g+l&&!j.hasClass("dw-v");)l++,j=f.eq(g+l);(k>l&&l&&2!==c||!k||0>g-k||1==c)&&j.hasClass("dw-v")?(e=j,g+=l):(e=i,g-=k)}return{cell:e,v:d?m(g,X,Y):g,val:e.hasClass("dw-v")?e.attr("data-val"):null}}function G(a,b,d,e,f){Q("validate",[L,b,a,e])!==!1&&($(".dw-ul",L).each(function(d){var g=$(this),h=g.closest(".dwwl").hasClass("dwwms"),i=d==b||b===c,j=F(ca._tempWheelArray[d],g,e,h),k=j.cell;(!k.hasClass("dw-sel")||i)&&(ca._tempWheelArray[d]=j.val,h||($(".dw-sel",g).removeAttr("aria-selected"),k.attr("aria-selected","true")),$(".dw-sel",g).removeClass("dw-sel"),k.addClass("dw-sel"),E(g,d,j.v,i?a:.1,i?f:!1))}),Q("onValidated",[]),ca._tempValue=P.formatResult(ca._tempWheelArray),ca.live&&(ca._hasValue=d||ca._hasValue,K(d,d,0,!0)),ca._header.html(B(ca._tempValue)),d&&Q("onChange",[ca._tempValue]))}function H(a,b,d,e,f){b=m(b,X,Y);var g=$(".dw-li",a).eq(b),h=f===c?b:f,i=f!==c,j=_,k=Math.abs(b-h),l=e?b==h?.1:k*P.timeUnit*Math.max(.5,(100-k)/100):0;ca._tempWheelArray[j]=g.attr("data-val"),E(a,j,b,l,i),setTimeout(function(){G(l,j,!0,d,i)},10)}function I(a){var b=fa[_]+1;H(a,b>Y?X:b,1,!0)}function J(a){var b=fa[_]-1;H(a,X>b?Y:b,2,!0)}function K(a,b,c,d,e){ca._isVisible&&!d&&G(c),ca._tempValue=P.formatResult(ca._tempWheelArray),e||(ca._wheelArray=ca._tempWheelArray.slice(0),ca._value=ca._hasValue?ca._tempValue:null),a&&(Q("onValueFill",[ca._hasValue?ca._tempValue:"",b]),ca._isInput&&da.val(ca._hasValue?ca._tempValue:""),b&&(ca._preventChange=!0,da.change()))}var L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,aa,ba,ca=this,da=$(a),ea={},fa={},ga={},ha=[];f.Widget.call(this,a,e,!0),ca.setVal=ca._setVal=function(b,d,e,f,g){ca._hasValue=null!==b&&b!==c,ca._tempWheelArray=$.isArray(b)?b.slice(0):P.parseValue.call(a,b,ca)||[],K(d,e===c?d:e,g,!1,f)},ca.getVal=ca._getVal=function(a){var b=ca._hasValue?ca[a?"_tempValue":"_value"]:null;return h.isNumeric(b)?+b:b},ca.setArrayVal=ca.setVal,ca.getArrayVal=function(a){return a?ca._tempWheelArray:ca._wheelArray},ca.setValue=function(a,b,c,d,e){ca.setVal(a,b,e,d,c)},ca.getValue=ca.getArrayVal,ca.changeWheel=function(a,b,d){if(L){var e=0,f=a.length;$.each(P.wheels,function(g,h){return $.each(h,function(g,h){return $.inArray(e,a)>-1&&(ha[e]=h,$(".dw-ul",L).eq(e).html(z(e)),f--,!f)?(ca.position(),G(b,c,d),!1):void e++}),f?void 0:!1})}},ca.getValidCell=F,ca._generateContent=function(){var a,b="",d=0;return $.each(P.wheels,function(e,f){b+='<div class="mbsc-w-p dwc'+("scroller"!=P.mode?" dwpm":" dwsc")+(P.showLabel?"":" dwhl")+'"><div class="dwwc"'+(P.maxWidth?"":' style="max-width:600px;"')+">"+(k?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>'),$.each(f,function(e,f){ha[d]=f,a=f.label!==c?f.label:e,b+="<"+(k?"div":"td")+' class="dwfl" style="'+(P.fixedWidth?"width:"+(P.fixedWidth[d]||P.fixedWidth)+"px;":(P.minWidth?"min-width:"+(P.minWidth[d]||P.minWidth)+"px;":"min-width:"+P.width+"px;")+(P.maxWidth?"max-width:"+(P.maxWidth[d]||P.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+d+(f.multiple?" dwwms":"")+'">'+("scroller"!=P.mode?'<div class="dwb-e dwwb dwwbp '+(P.btnPlusClass||"")+'" style="height:'+O+"px;line-height:"+O+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm '+(P.btnMinusClass||"")+'" style="height:'+O+"px;line-height:"+O+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+a+'</div><div tabindex="0" aria-live="off" aria-label="'+a+'" role="listbox" class="dwww"><div class="dww" style="height:'+P.rows*O+'px;"><div class="dw-ul" style="margin-top:'+(f.multiple?0:P.rows/2*O-O/2)+'px;">',b+=z(d)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+(P.selectedLineHeight?' style="height:'+O+"px;margin-top:-"+(O/2+(P.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(k?"</div>":"</td>"),d++}),b+=(k?"":"</tr></table>")+"</div></div>"}),b},ca._attachEvents=function(a){a.on("DOMMouseScroll mousewheel",".dwwl",w).on("keydown",".dwwl",u).on("keyup",".dwwl",v).on("touchstart mousedown",".dwwl",p).on("touchmove",".dwwl",q).on("touchend",".dwwl",r).on("touchstart mousedown",".dwwb",s).on("touchend",".dwwb",t)},ca._markupReady=function(){L=ca._markup,G()},ca._fillValue=function(){ca._hasValue=!0,K(!0,!0,0,!0)},ca._readValue=function(){var a=da.val()||"";ca._hasValue=""!==a,ca._tempWheelArray=ca._wheelArray?ca._wheelArray.slice(0):P.parseValue(a,ca)||[],K()},ca._processSettings=function(){P=ca.settings,Q=ca.trigger,O=P.height,aa=P.multiline,ca._isLiquid="liquid"===(P.layout||(/top|bottom/.test(P.display)&&1==P.wheels.length?"liquid":"")),aa>1&&(P.cssClass=(P.cssClass||"")+" dw-ml")},ca._selectedValues={},o||(g[a.id]=ca,ca.init(e))},f.Scroller.prototype._class="scroller",f.Scroller.prototype._defaults=$.extend({},f.Widget.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,wheels:[],mode:"scroller",preset:"",speedUnit:.0012,timeUnit:.08,formatResult:function(a){return a.join(" ")},parseValue:function(a,b){var d,e=[],f=[],g=0;return null!==a&&a!==c&&(e=(a+"").split(" ")),$.each(b.settings.wheels,function(a,b){$.each(b,function(a,b){d=b.keys||b.values,-1!==$.inArray(e[g],d)?f.push(e[g]):f.push(d[0]),g++})}),f}})}($,window,document);